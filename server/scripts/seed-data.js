require('dotenv').config();
const TechFrameworkDB = require('../src/index');
const seedData = require('../data/frameworks-seed.json');

async function seedDatabase() {
  console.log('ðŸŒ± Seeding database with sample data...\n');
  
  const db = new TechFrameworkDB();
  await db.initialize();

  // Process seed data
  const results = await db.bulkProcessFrameworks(seedData);

  console.log('\nðŸ“Š Seeding Summary:');
  console.log(`Total frameworks: ${results.length}`);
  console.log(`Successful: ${results.filter(r => r.success).length}`);
  console.log(`Failed: ${results.filter(r => !r.success).length}`);

  // Show sample results
  const successful = results.filter(r => r.success);
  if (successful.length > 0) {
    console.log('\nâœ… Sample processed frameworks:');
    successful.slice(0, 3).forEach(result => {
      const f = result.framework;
      console.log(`- ${f.name} (${f.category}): Performance=${f.performanceScore}, Community=${f.communityScore}`);
    });
  }

  console.log('\nðŸŽ‰ Database seeding completed!');
}

seedDatabase().catch(console.error);